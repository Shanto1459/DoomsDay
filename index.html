<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>DoomsDay</title>
  <link rel="stylesheet" href="styles.css">

  <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet" />

  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      background: #111;
      font-family: 'Creepster', cursive;
      color: rgb(7, 41, 2);
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      margin: 30px 0 0 0;
      font-size: 36px;
    }

    /* Top bar ABOVE the canvas */
    #topBar {
      width: 640px;
      display: flex;
      justify-content: flex-start;
      margin-top: 20px; /* space between title and bar */
    }

    #settingsBtn {
      border: 2px solid #4caf50;
      background: rgba(15, 15, 15, 0.85);
      color: #b9ff9e;
      font-size: 14px;
      padding: 6px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-family: monospace;
    }

    canvas {
      margin-top: 10px; /* small gap between topBar and canvas */
      background: #222;
      border: 2px solid #4caf50;
      image-rendering: pixelated;
      display: block;
    }

    /* --- Overlay + panel --- */
    #settingsOverlay.hidden {
      display: none;
    }

    #settingsOverlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.65);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9998;
    }

    #settingsPanel {
      width: min(520px, 92vw);
      background: rgba(20, 20, 20, 0.95);
      border: 2px solid #4caf50;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
      color: #b9ff9e;
      font-family: monospace;
    }

    .settingsHeader {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .settingsTitle {
      font-size: 18px;
      font-weight: 700;
    }

    #settingsCloseBtn {
      background: transparent;
      border: 1px solid rgba(185, 255, 158, 0.4);
      color: #b9ff9e;
      border-radius: 10px;
      width: 36px;
      height: 36px;
      cursor: pointer;
      font-family: monospace;
    }

    .settingsSection h2 {
      margin: 10px 0 6px 0;
      font-size: 14px;
      color: #b9ff9e;
    }

    .settingsSection p {
      margin: 0 0 8px 0;
      color: rgba(185, 255, 158, 0.85);
      line-height: 1.35;
    }

    .row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    #volumeSlider {
      width: 100%;
    }

    .hint {
      font-size: 12px;
      opacity: 0.85;
    }

    .settingsFooter {
      display: flex;
      justify-content: flex-end;
      margin-top: 14px;
    }

    #settingsCloseBtn2 {
      border: 2px solid #4caf50;
      background: rgba(15, 15, 15, 0.85);
      color: #b9ff9e;
      border-radius: 12px;
      padding: 10px 14px;
      cursor: pointer;
      font-family: monospace;
    }
  </style>
</head>

<body>
  <h1>DoomsDay</h1>

  <!-- Button right above the canvas -->
  <div id="topBar">
    <button id="settingsBtn" type="button">⚙ Settings</button>
  </div>

  <div id="gameWrap">
    <canvas id="gameWorld" width="640" height="640" tabindex="0"></canvas>

    <div id="pauseOverlay" class="hidden">
      <div id="pausePanel">
        <h2>Paused</h2>
        <div class="row">
          <button id="btnResume">Resume</button>
          <button id="btnRestart2">Restart</button>
        </div>
        <p class="hint">Press <b>Esc</b> to resume</p>
      </div>
    </div>
  </div>

  <div id="game-ui">
    <button id="btnPause">Pause</button>
    <button id="btnRestart">Restart</button>
  </div>

  <!-- Settings overlay -->
  <div id="settingsOverlay" class="hidden">
    <div id="settingsPanel" role="dialog" aria-modal="true" aria-label="Settings">
      <div class="settingsHeader">
        <div class="settingsTitle">Settings</div>
        <button id="settingsCloseBtn" type="button" aria-label="Close">✕</button>
      </div>

      <div class="settingsSection">
        <h2>How to play</h2>
        <p> WASD to move. Space to punch. Walk over items to pick them up.</p>
      </div>

      <div class="settingsSection">
        <h2>Volume</h2>
        <div class="row">
          <input id="volumeSlider" type="range" min="0" max="100" value="80" />
          <span id="volumeValue">80</span>
        </div>
      </div>

      <div class="settingsFooter">
        <button id="settingsCloseBtn2" type="button">Close</button>
      </div>
    </div>
  </div>

  <script src="util.js"></script>
  <script src="timer.js"></script>
  <script src="assetmanager.js"></script>
  <script src="gameengine.js"></script>
  <script src="animator.js"></script>
  <script src="tilemap.js"></script>
  <script src="player.js"></script>
  <script src="zombie.js"></script>
  <script src="spawners.js"></script>
  <script src="titlescreen.js"></script>
  <script src="audio/audiomanager.js"></script>
  <script src="healthbar.js"></script>
  <script src="hud.js"></script>
  <script src="./main.js?v=7"></script>
</body>
</html>
